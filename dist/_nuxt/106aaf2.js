(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{288:function(t,e,n){var content=n(298);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(62).default)("0348f716",content,!0,{sourceMap:!1})},297:function(t,e,n){"use strict";n(288)},298:function(t,e,n){var c=n(61)(!1);c.push([t.i,"*[data-v-85c562ac],[data-v-85c562ac]:after,[data-v-85c562ac]:before{box-sizing:border-box}ol[class][data-v-85c562ac],ul[class][data-v-85c562ac]{padding:0}blockquote[data-v-85c562ac],body[data-v-85c562ac],dd[data-v-85c562ac],dl[data-v-85c562ac],figcaption[data-v-85c562ac],figure[data-v-85c562ac],h1[data-v-85c562ac],h2[data-v-85c562ac],h3[data-v-85c562ac],h4[data-v-85c562ac],li[data-v-85c562ac],ol[class][data-v-85c562ac],p[data-v-85c562ac],ul[class][data-v-85c562ac]{margin:0}html[data-v-85c562ac]{scroll-behavior:smooth}body[data-v-85c562ac]{min-height:100vh;text-rendering:optimizeSpeed;line-height:1.5}ol[class][data-v-85c562ac],ul[class][data-v-85c562ac]{list-style:none}a[data-v-85c562ac]:not([class]){-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto}img[data-v-85c562ac]{max-width:100%;display:block}article>*+*[data-v-85c562ac]{margin-top:1em}button[data-v-85c562ac],input[data-v-85c562ac],select[data-v-85c562ac],textarea[data-v-85c562ac]{font:inherit}input[data-v-85c562ac],textarea[data-v-85c562ac]{outline:none}@media (prefers-reduced-motion:reduce){*[data-v-85c562ac]{-webkit-animation-duration:.01ms!important;animation-duration:.01ms!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}input[data-v-85c562ac]::-webkit-inner-spin-button,input[data-v-85c562ac]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][data-v-85c562ac]{-moz-appearance:textfield}.invoice__actions[data-v-85c562ac]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:30px;margin:20px 0}.invoice__title[data-v-85c562ac]{margin-bottom:20px}@media print{.no-print[data-v-85c562ac]{visibility:hidden}}",""]),t.exports=c},308:function(t,e,n){"use strict";n.r(e);var c=n(17),o=(n(2),n(46),{name:"InvoicePage",data:function(){return{guestInfo:null}},computed:{fields:function(){return[{label:"Наименование",key:"name"},{label:"Количество",key:"count"},{label:"Стоимость",key:"cost"},{label:"Сумма",key:"sum"}]}},mounted:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserInfo();case 2:case"end":return e.stop()}}),e)})))()},methods:{printInvoice:function(){window.print()},getUserInfo:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$fire.firestore.collection("guest").doc(t.$route.params.invoice);case 2:return n=e.sent,e.prev=3,e.next=6,n.get();case 6:c=e.sent,t.guestInfo=c.data(),n.onSnapshot((function(e){t.guestInfo=e.data()})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.showToast(e.t0,"Ошибка");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()},totalSum:function(t){var e=0;return t.length?(t.forEach((function(t){e+=+t.sum})),e):e}}}),r=(n(297),n(63)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.guestInfo?n("div",{staticClass:"invoice"},[n("div",{staticClass:"invoice__actions no-print"},[n("b-btn",{attrs:{variant:"outline-info"},on:{click:function(e){return t.printInvoice()}}},[t._v("\n      Печать\n    ")])],1),t._v(" "),n("div",{staticClass:"invoice__title"},[t._v("\n    Счет №"+t._s(Math.floor(1e6*Math.random()))+" от договора №"+t._s(Math.floor(1e6*Math.random()))+"\n  ")]),t._v(" "),n("b-table",{attrs:{fields:t.fields,items:t.guestInfo.invoice.additionalServices}}),t._v(" "),t.guestInfo.invoice.additionalServices.length?n("div",{staticClass:"info__item"},[t._v("\n    Итого: "+t._s(t.totalSum(t.guestInfo.invoice.additionalServices))+"\n  ")]):t._e()],1):t._e()}),[],!1,null,"85c562ac",null);e.default=component.exports}}]);